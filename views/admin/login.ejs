<%- include('../components/header') %>

  <div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-blue-50 px-4 py-8">
    <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md md:max-w-lg border border-gray-100">
      <!-- Logo + title -->
      <div class="flex flex-col justify-center items-center mb-8 text-center">
        <img src="/images/logo.jpg" alt="GS Infra Estates" class="w-24 h-24 rounded-2xl object-cover shadow-lg mb-4">
        <h1 class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          GS Infra Estates
        </h1>
        <p class="text-sm text-gray-500 mt-1">Admin Portal</p>
      </div>

      <!-- Alerts -->
      <p id="errorMsg" class="mb-4 p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg hidden"></p>
      <p id="successMsg" class="mb-4 p-3 bg-green-50 border border-green-200 text-green-700 text-sm rounded-lg hidden">
      </p>

      <!-- Step 1: Login -->
      <form id="loginForm" class="space-y-5">
        <div class="flex flex-col">
          <label for="username" class="mb-2 text-sm font-semibold text-gray-700">
            Admin Email
          </label>
          <input type="email" id="username" name="username" placeholder="Enter your email" required
            class="border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 transition-all duration-200 w-full text-base">
        </div>

        <div class="flex flex-col">
          <label for="password" class="mb-2 text-sm font-semibold text-gray-700">
            Password
          </label>
          <input type="password" id="password" name="password" placeholder="Enter your password" required
            class="border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 transition-all duration-200 w-full text-base">
        </div>

        <button type="submit" id="loginBtn"
          class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-xl text-base shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center space-x-2">
          <span>Login</span>
        </button>

        <div class="text-center">
          <span class="text-xs text-gray-500">Only authorized admin access</span>
        </div>
      </form>

      <!-- Step 2: Verify -->
      <div id="verifySection" class="space-y-5 hidden mt-8 pt-8 border-t border-gray-100">
        <div class="text-center">
          <div class="w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <span class="text-2xl">ðŸ“§</span>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Check Your Email</h3>
          <p class="text-sm text-gray-600" id="emailSentTo">
            Code sent to <%= adminEmail %>
          </p>
        </div>

        <form id="verifyForm" class="space-y-5">
          <div class="flex flex-col">
            <label for="verificationCode" class="mb-2 text-sm font-semibold text-gray-700">
              ðŸ”¢ Verification Code (6 digits)
            </label>
            <input type="text" id="verificationCode" name="verificationCode" maxlength="6" required
              class="border-2 border-gray-200 rounded-xl px-6 py-3 focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 w-full text-lg text-center font-mono tracking-widest">
          </div>

          <div class="flex space-x-3">
            <button type="submit" id="verifyBtn"
              class="flex-1 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-semibold py-3 rounded-xl text-base shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200">
              âœ… Verify &amp; Login
            </button>
            <button type="button" id="resendBtn"
              class="px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-3 rounded-xl text-sm shadow transition-all duration-200">
              ðŸ”„ Resend
            </button>
          </div>
        </form>
      </div>

    </div>
  </div>

  <script src="/javascripts/login.js" defer></script>

  <%- include('../components/footer') %>